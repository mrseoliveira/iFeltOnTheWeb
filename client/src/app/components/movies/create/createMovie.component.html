<div>
  <div class="container margin-top">
    <h1>Add a <code> Movie</code></h1>
    <form class="row g-3" [formGroup]="form" (submit)="onMovieCreate()">
      <div class="row">
        <div class="col-sm-6">
          <br />
          <label class=""
            >Title
            <code><sup>*</sup></code></label
          >

          <input
            class="form-control form-control-lg"
            type="text"
            placeholder=""
            formControlName="title"
            required
          />
          <div *ngIf="form.get('title').invalid">Title is required</div>
          <br />
          <label class="">Poster</label>
          <div class="mb-3">

            <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('imagePreview').valid && mode === 'create'">
              <img [src]='imagePreview' [alt]="form.value.title">
            </div>
            <div class="image-preview" *ngIf="mode === 'edit'">
              <img [src]='form.value.imagePreview' [alt]="form.value.title">
            </div>
            <div class="input-group mb-3">
              <div class="custom-file">
                <div class="file-upload">
                  <button
                    mat-stroked-button
                    type="button"
                    (click)="filePicker.click()"
                  >
                    Pick Image
                  </button>
                  <input
                    hidden
                    type="file"
                    #filePicker
                    (change)="onImagePicked($event)"
                  />


                </div>
              </div>
            </div>
          </div>
          <label
            >Directed by <code><sup>*</sup></code></label
          >
          <input
            class="form-control form-control-lg"
            type="text"
            placeholder=""
            formControlName="direction"
            required
          />
          <div *ngIf="form.get('direction').invalid">Direction is required</div>
          <label
            >Year <code><sup>*</sup></code></label
          >
          <input
            class="form-control form-control-lg"
            type="text"
            placeholder=""
            formControlName="year"
            required
          />
          <div *ngIf="form.get('year').invalid">Year is required (four digits)</div>
        </div>
        
        
        
        <div class="col-sm-6">
          <br />
          <label>Country</label>
          <input
            class="form-control form-control-lg"
            type="text"
            placeholder=""
            formControlName="country"
          />
          <label>Duration</label>
          <input
            class="form-control form-control-lg"
            type="text"
            placeholder=""
            formControlName="duration"
          />
          <br />
          <label><code>Cast</code></label
          ><br />
          <label>Name</label>
          <input
            class="form-control form-control-lg"
            type="text"
            placeholder=""
            formControlName="name1"
          />
          <label>Name</label>
          <input
            class="form-control form-control-lg"
            type="text"
            placeholder=""
            formControlName="name2"
          />
          <br />
          <code>Add More</code>
        </div>
      </div>
        <div *ngIf="mode == 'create' else update" class="createMovieAddButton">
      <button type="submit" class="btn btn-primary maincolor">Add</button>
      </div>
      <ng-template #update>
        <button type="submit" class="btn btn-primary maincolor">Update</button>
      </ng-template>
    
    <div hidden> <input
      class="form-control form-control-lg"
      type="text"
      placeholder=""
      formControlName="_id"
    />
  </div>
    </form>
  </div>
</div>
